---
title: 'Metalinguistic Analysis'
author: "Mark Newman"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r, echo=FALSE, results='hide', error=F, warning=F, message=F}
rm(list = ls())
options(scipen = 999)

library(dplyr)
library(ggpubr)
```

A Metalinguistic Analysis compares the lingustic features of a corpus accross some metadata segment.
The features are extracted on a document by document basis.
Then a MANOVA is preformed comparing the segments.

In order to perform a Metalinguistic Analysis, documents must first be obtained.
This can be done by any means.
Following data collection, the data needs to be put into the expected format.
For this recipe, 2 files are expected:

* A `_metadata.csv` file containing metadata data about the individual documents.
  This will need to include at least 2 columns: (1) the document's name, and (2) the segment.
* A `corpus.tar` file containing the documents.
  A single TAR file is useful in this context because as the number of documents in the corpus expands, a simple directory containing all of them becomes unwieldy.
  The documents in `corpus.tar` should be plain text without markup or other forms of notation. 

## Collect Features

R is not super great at analysing large corpuses so this process is run in Pure Python.
In a shell window, change to the `./code` folder and run the below commands.
Some pathing or name correction may be necessary.

* python -c "from . import tokenize_corpus; tokenize_corpus('../data/corpus.tar')"

## Question

```{r, results = 'hold'}
analysis = 'Metalinguistic'
```
